---
layout: post
title: "TITLE"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/mbroz2
author_github: https://github.com/mbroz2
seo-title: TITLE - makes sure it ends with - OpenLiberty.io
seo-description: DESCRIPTION
blog_description: DESCRIPTION
open-graph-image: https://openliberty.io/img/twitter_card.jpg
open-graph-image-alt: Open Liberty Logo
---
= TITLE
Michal Broz <https://github.com/mbroz2>
:imagesdir: /
:url-prefix:
:url-about: /
//Blank line here is necessary before starting the body of the post.

// // // // // // // //
// In the preceding section:
// Do not insert any blank lines between any of the lines.
// Do not remove or edit the variables on the lines beneath the author name.
//
// "open-graph-image" is set to OL logo. Whenever possible update this to a more appropriate/specific image (For example if present a image that is being used in the post). However, it
// can be left empty which will set it to the default
//
// "open-graph-image-alt" is a description of what is in the image (not a caption). When changing "open-graph-image" to
// a custom picture, you must provide a custom string for "open-graph-image-alt".
//
// Replace TITLE with the blog post title eg: MicroProfile 3.3 is now available on Open Liberty 20.0.0.4
// Replace mbroz2 with your GitHub username eg: lauracowen
// Replace DESCRIPTION with a short summary (~60 words) of the release (a more succinct version of the first paragraph of the post).
// Replace Michal Broz with your name as you'd like it to be displayed, eg: Laura Cowen
//
// Example post: 2020-04-09-microprofile-3-3-open-liberty-20004.adoc
//
// If adding image into the post add :
// -------------------------
// [.img_border_light]
// image::img/blog/FILE_NAME[IMAGE CAPTION ,width=70%,align="center"]
// -------------------------
// "[.img_border_light]" = This adds a faint grey border around the image to make its edges sharper. Use it around screenshots but not           
// around diagrams. Then double check how it looks.
// There is also a "[.img_border_dark]" class which tends to work best with screenshots that are taken on dark
// backgrounds.
// Change "FILE_NAME" to the name of the image file. Also make sure to put the image into the right folder which is: img/blog
// change the "IMAGE CAPTION" to a couple words of what the image is
// // // // // // // //

RELEASE_SUMMARY

// // // // // // // //
// In the preceding section:
// Leave any instances of `tag::xxxx[]` or `end:xxxx[]` as they are.
//
// Replace RELEASE_SUMMARY with a short paragraph that summarises the release. Start with the lead feature but also summarise what else is new in the release. You will agree which will be the lead feature with the reviewers so you can just leave a placeholder here until after the initial review.
// // // // // // // //

// // // // // // // //
// Replace the following throughout the document:
//   Replace 22.0.0.13 with the version number of Open Liberty, eg: 22.0.0.2
//   Replace 220013 with the version number of Open Liberty wihtout the periods, eg: 22002
// // // // // // // //

In link:{url-about}[Open Liberty] 22.0.0.13:

* <<SUB_TAG_0, New guide "Bidirectional communication between services using Jakarta WebSocket">>
* <<SUB_TAG_1, New guide "Streaming messages between client and server services using gRPC">>
* <<SUB_TAG_2, maxFfdcAge>>
* <<SUB_TAG_3, Blog: New --timeout option for command: server stop>>
* <<CVEs, Security Vulnerability (CVE) Fixes>>
* <<bugs, Notable bug fixes>>


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// // // // // // // //
Along with the new features and functions added to the runtime, we’ve also made <<guides, updates to our guides>>.

// // // // // // // //
// In the preceding section:
// Replace the TAG_X with a short label for the feature in lower-case, eg: mp3
// Replace the FEATURE_1_HEADING with heading the feature section, eg: MicroProfile 3.3
// Where the updates are grouped as sub-headings under a single heading 
//   (eg all the features in a MicroProfile release), provide sub-entries in the list; 
//   eg replace SUB_TAG_1 with mpr, and SUB_FEATURE_1_HEADING with 
//   Easily determine HTTP headers on outgoing requests (MicroProfile Rest Client 1.4)
// // // // // // // //

View the list of fixed bugs in link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A220013+label%3A%22release+bug%22[22.0.0.13].

Check out link:{url-prefix}/blog/?search=release&search!=beta[previous Open Liberty GA release blog posts].


[#run]

// // // // // // // //
// LINKS
//
// OpenLiberty.io site links:
// link:{url-prefix}/guides/maven-intro.html[Maven]
// 
// Off-site links:
//link:https://openapi-generator.tech/docs/installation#jar[Download Instructions]
//
// IMAGES
//
// Place images in ./img/blog/
// Use the syntax:
// image::/img/blog/log4j-rhocp-diagrams/current-problem.png[Logging problem diagram,width=70%,align="center"]
// // // // // // // //

== Run your apps using 22.0.0.13

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
    <groupId>io.openliberty</groupId>
    <artifactId>openliberty-runtime</artifactId>
    <version>22.0.0.13</version>
    <type>zip</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-runtime', version: '[22.0.0.13,)'
}
----

Or if you're using Docker:

[source]
----
FROM open-liberty
----

Or take a look at our link:{url-prefix}/downloads/[Downloads page].

[link=https://stackoverflow.com/tags/open-liberty]
image::img/blog/blog_btn_stack.svg[Ask a question on Stack Overflow, align="center"]

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/23718
// Contact/Reviewer: gkwan-ibm,ReeceNana
// // // // // // // // 
[#SUB_TAG_0]
== New guide "Bidirectional communication between services using Jakarta WebSocket"

2. Which Liberty feature(s) does your update relate to?
    
   A new guide

   
   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
3. Who is the target persona? Who do you expect to use the update? eg application developer, operations.
    
   application developer
   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>
4. Provide a summary of the update, including the following points:
   
   - a link:https://openliberty.io/guides/jakarta-websocket.html[new guide] is available at https://openliberty.io/guides/ under the link:https://openliberty.io/guides/#rest_alternatives[REST alternatives] sub-category
Short description - "Learn how to use Jakarta WebSocket to send and receive messages between services without closing the connection."

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/23647
// Contact/Reviewer: gkwan-ibm,ReeceNana
// // // // // // // // 
[#SUB_TAG_1]
== New guide "Streaming messages between client and server services using gRPC"

2. Which Liberty feature(s) does your update relate to?
    
   A new guide
   
   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
3. Who is the target persona? Who do you expect to use the update? eg application developer, operations.
    
   application developer

   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>
4. Provide a summary of the update, including the following points:
   
    - a link:https://openliberty.io/guides/grpc-intro.html[new guide] is available at https://openliberty.io/guides/ under the link:https://openliberty.io/guides/#rest_alternatives[REST alternatives] sub-category
    Short description - "Learn how to use gRPC unary calls, server streaming, client streaming, and bidirectional streaming to communicate between Java client and server services with Open Liberty."

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/23614
// Contact/Reviewer: ReeceNana,tonyreigns
// // // // // // // // 
[#SUB_TAG_2]
== maxFfdcAge
// The following excerpt for issue https://github.com/OpenLiberty/open-liberty/issues/23235 was found in 2022-12-06-22.0.0.13-beta.adoc.
// ------ <Excerpt From Previous Post: Start> ------
// Contact/Reviewer: ReeceNana,tonyreigns
// // // // // // // // 
[#maxFfdcAge]
== Configurable maximum FFDC age
   
Open Liberty provides First Failure Data Capture(FFDC) capability which instantly collects information about events and conditions that might lead up to a failure.  In certain scenarios, the number of files in the FFDC directory can grow to a very large amount. Currently, Open Liberty automatically purges FFDC files in excess of 500 and this value is not configurable. This beta release introduces new functionality which automatically purges FFDC log files after they reach a configured age. This is done through a new configuration attribute, `maxFfdcAge`.


`maxFfdcAge` is the maximum desired age before an FFDC file is deleted. At midnight everyday, any FFDC file that has reached the maximum configured age will be deleted. Specify a positive integer followed by a unit of time, which can be days (`d`), hours (`h`), or minutes (`m`). For example, specify 2 days as `2d`. You can include multiple values in a single entry. For example, `2d6h` is equivalent to 2 days and 6 hours.
    
Example server.xml configuration:
[source,xml]
----
<server>
    <logging maxFfdcAge="2d"/>
</server>
----
    

// ------ <Excerpt From Previous Post: End> ------ 
A beta blog issue was already created for this feature but I don't believe the blog has been uploaded yet. 
The following issue is the beta blog:
   <GHA-BLOG-BETA-LINK>https://github.com/OpenLiberty/open-liberty/issues/23235</GHA-BLOG-BETA-LINK>
 

Feature issue: https://github.com/OpenLiberty/open-liberty/issues/19418

Thanks.
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/23282
// Contact/Reviewer: ReeceNana,jimblye
// // // // // // // // 
[#SUB_TAG_3]
== Blog: New --timeout option for command: server stop

2. Which Liberty feature(s) does your update relate to?
    
    This relates to the command:  server stop
    
   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
3. Who is the target persona? Who do you expect to use the update? eg application developer, operations.
          application developer, operations
   
   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>

4. Provide a summary of the update, including the following points:
   
   - A sentence or two that introduces the update to someone new to the general technology/concept.
A --timeout command line option is available for the command server stop.  This allows you to change the time out value used when waiting for the server to stop.

   - What was the problem before and how does your update make their life better? (Why should they care?)
The default timeout value is 30 seconds.  The --timeout option allows you to extend time time to wait for the server to stop in the case where the stop command is taking longer than 30 seconds.
   
   - Briefly explain how to make your update work. Include screenshots, diagrams, and/or code snippets, and provide a `server.xml` snippet.
   
   The timeout value can be specified in minutes, seconds or a combination of both.  If you specify a number, it is assumed to be the number of seconds.  If you want to specify minutes, place the letter 'm' directly after the number.  The letter 's' after the number means seconds.  Minutes and seconds can be combined, for example --timeout=2m30s which means 2 minutes and 30 seconds.   Examples:
   
```
   ./server stop                   // 30 seconds
   ./server stop --timeout=45      // 45 seconds
   ./server stop --timeout=45s     // 45 seconds
   ./server stop --timeout=3m20s   // 3 minutes, 20 seconds
```
   

   
   - Where can they find out more about this specific update (eg Open Liberty docs, Javadoc) and/or the wider technology?

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 


For more details, check the LINK[LINK_DESCRIPTION].

// // // // // // // //
// In the preceding section:
// Replace TAG_X/SUB_TAG_X with the given tag of your secton from the contents list
// Replace SUB_FEATURE_TITLE/FEATURE_X_TITLE with the given title from the contents list 
// Replace FEATURE with the feature name for the server.xml file e.g. mpHealth-1.4
// Replace LINK with the link for extra information given for the feature
// Replace LINK_DESCRIPTION with a readable description of the information
// // // // // // // //

[#CVEs]
== Security vulnerability (CVE) fixes in this release
[cols="5*"]
|===
|CVE |CVSS Score |Vulnerability Assessment |Versions Affected |Notes

|Link[CVE-XXXX-XXXXX]
|Score
|vulnerability
|Affected versions
|Affected Features and other notes
|===
// // // // // // // //
// In the preceding section:
// If there were any CVEs addressed in this release, fill out the table.  For the information, reference https://github.com/OpenLiberty/docs/blob/draft/modules/ROOT/pages/security-vulnerabilities.adoc.  If it has not been updated for this release, reach out to Kristen Clarke or Michal Broz.
// Note: When linking to features, use the 
// `link:{url-prefix}/docs/latest/reference/feature/someFeature-1.0.html[Some Feature 1.0]` format and 
// NOT what security-vulnerabilities.adoc does (feature:someFeature-1.0[])
//
// If there are no CVEs fixed in this release, replace the table with: 
// "There are no security vulnerability fixes in Open Liberty [22.0.0.13]."
// // // // // // // //
For a list of past security vulnerability fixes, reference the link:{url-prefix}/docs/latest/security-vulnerabilities.html[Security vulnerability (CVE) list].


[#bugs]
== Notable bugs fixed in this release


We’ve spent some time fixing bugs. The following sections describe just some of the issues resolved in this release. If you’re interested, here’s the  link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A220013+label%3A%22release+bug%22[full list of bugs fixed in 22.0.0.13].

* link:https://github.com/OpenLiberty/open-liberty/issues/23512[Refresh protobuf-java and protobuf-java-util to 3.19.6 gRPC performance CVE-2022-3171 CVE-2022-3509 ]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23478[NullPointerException in InstallFeatureAction for .esa files]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23462[NullPointerException in com.ibm.ws.rsadapter.impl.DB2Helper.isAuthException]
+

FFDC:
+
```
------Start of DE processing------ = [2022-10-26T11:16:43.852+0000]
Exception = java.lang.NullPointerException
Source = noSourceId
probeid = com.lombardisoftware.utility.spring.ProgrammaticTransactionSupport
Stack Dump = java.lang.NullPointerException
    at com.ibm.ws.rsadapter.impl.DB2Helper.isAuthException(DB2Helper.java:269)
    at com.ibm.ws.rsadapter.impl.DatabaseHelper.isAnAuthorizationException(DatabaseHelper.java:1597)
    at com.ibm.ws.rsadapter.AdapterUtil.mapException(AdapterUtil.java:1265)
    at com.ibm.ws.rsadapter.jdbc.WSJdbcUtil.mapException(WSJdbcUtil.java:108)
    at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.executeUpdate(WSJdbcPreparedStatement.java:526)
    at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965) [...]
```

* link:https://github.com/OpenLiberty/open-liberty/issues/23403[HTTP/2 Intermittent server quiesce failure when stream is closed with an exception]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23326[Liberty default HttpAuthenticationMechanisms do not call HttpMessageContext.responseUnauthorized]
+
A `HttpMessageContextWrapper` can override the `responseUnauthorized` method to enrich the response, by adding headers for example. Liberty's HttpAuthenticationMechanisms do not call HttpMessageContext.responseUnauthorized.

* link:https://github.com/OpenLiberty/open-liberty/issues/23310[Additional fixes for JSR375 (javasec) Decorator and Alternative]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23146[JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion() return incorrect version]
+
If a Pages, formerly known as JSP,  application calls `JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion()` then a wrong version is returned. The value is coded to return `2.1` rather than the correct specification version.  
+

* link:https://github.com/OpenLiberty/open-liberty/issues/22738[SSLContext defined in ClientBuilder.newBuilder().sslContext(sslcontext) not preserved with restfulWS-3.0]
+
We moved to restfulWS-3.0 feature and from what I understand there is a replacement of CXF with RESTEASY. We use to set our own sslContext using ClientBuilder.newBuilder().sslContext(sslcontext).hostnameVerifier(...);.  This was working well with CXF but is seems that moving to RESTEASY our sslContext is ignored and replaced by the default ssl config defined in server.xml (replacement done during build() method invocation.
+
No stack trace associated just an unexpected behavior.

* link:https://github.com/OpenLiberty/open-liberty/issues/22405[OidcClientImpl does not properly declare a dependency on SecurityService]
+


// // // // // // // //
// In the preceding section:
// For this section ask either Michal Broz or Tom Evans or the #openliberty-release-blog channel for Notable bug fixes in this release.
// Present them as a list in the order as provided, linking to the issue and providing a short description of the bug and the resolution.
// If the issue on Github is missing any information, leave a comment in the issue along the lines of:
// "@[issue_owner(s)] please update the description of this `relesae bug` using the [bug report template](https://github.com/OpenLiberty/open-liberty/issues/new?assignees=&labels=release+bug&template=bug_report.md&title=)" 
// Feel free to message the owner(s) directly as well, especially if no action has been taken by them.
// For inspiration about how to write this section look at previous blogs e.g- 20.0.0.10 or 21.0.0.12 (https://openliberty.io/blog/2021/11/26/jakarta-ee-9.1.html#bugs)
// // // // // // // //


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// Check with Gilbert Kwan, otherwise Michal Broz or YK Chang
// // // // // // // //
[#guides]
== New and updated guides since the previous release
As Open Liberty features and functionality continue to grow, we continue to add link:https://openliberty.io/guides/?search=new&key=tag[new guides to openliberty.io] on those topics to make their adoption as easy as possible.  Existing guides also receive updates in order to address any reported bugs/issues, keep their content current, and expand what their topic covers.

// // // // // // // //
// In the following section, list any new guides, or changes/updates to existing guides.  
// The following is an example of how the list can be structured (similar to the bugs section):
// * link:{url-prefix}/guides/[new/updated guide].html[Guide Title]
//  ** Description of the guide or the changes made to the guide.
// // // // // // // //


== Get Open Liberty 22.0.0.13 now

Available through <<run,Maven, Gradle, Docker, and as a downloadable archive>>.
