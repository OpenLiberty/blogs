---
layout: post
title: "Test database connections and set server stop time out in Open Liberty 23.0.0.2"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/mbroz2
author_github: https://github.com/mbroz2
seo-title: Test database connections and set server stop time out in Open Liberty 23.0.0.2 - OpenLiberty.io
seo-description: Open Liberty 23.0.0.2 introduces a new capability in Admin Center's Server Config tool to test database connections.  The `server stop` command also receives a new capability to specify the maximum amount of time to wait for the server to stop via the `--timeout` option.  This release also provides many significant bug fixes, including one that addresses a CVE in Jakarta RESTful Web Services 3.0 feature.
blog_description: Open Liberty 23.0.0.2 introduces a new capability in Admin Center's Server Config tool to test database connections.  The `server stop` command also receives a new capability to specify the maximum amount of time to wait for the server to stop via the `--timeout` option.  This release also provides many significant bug fixes, including one that addresses a CVE in Jakarta RESTful Web Services 3.0 feature.
open-graph-image: https://openliberty.io/img/blog/ac_db_test_container_auth.png
open-graph-image-alt: Open Liberty Admin Center connection test panel
---
= Test database connections and set server stop time out in Open Liberty 23.0.0.2
Michal Broz <https://github.com/mbroz2>
:imagesdir: /
:url-prefix:
:url-about: /
//Blank line here is necessary before starting the body of the post.

Open Liberty 23.0.0.2 introduces a new capability to test database connections with the Admin Center Server Config tool.  The `server stop` command adds the the `--timeout` option to specify the maximum amount of time to wait for the server to stop.  This release also provides many significant bug fixes, including one that addresses a CVE in Jakarta RESTful Web Services 3.0 feature.


In link:{url-about}[Open Liberty] 23.0.0.2:

* <<db_test, Test database connections using Admin Center>>
* <<timeout, Specify how long to wait for the server to stop>>
* <<CVEs, Security Vulnerability (CVE) Fixes>>
* <<bugs, Notable bug fixes>>


Along with the new features and functions added to the runtime, we’ve also made <<guides, updates to our guides>>.


View the list of fixed bugs in link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A23002+label%3A%22release+bug%22[23.0.0.2].

Check out link:{url-prefix}/blog/?search=release&search!=beta[previous Open Liberty GA release blog posts].


[#run]


== Run your apps using 23.0.0.2

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
    <groupId>io.openliberty</groupId>
    <artifactId>openliberty-runtime</artifactId>
    <version>23.0.0.2</version>
    <type>zip</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-runtime', version: '[23.0.0.2,)'
}
----

Or if you're using Docker:

[source]
----
FROM open-liberty
----

Or take a look at our link:{url-prefix}/downloads/[Downloads page].

[link=https://stackoverflow.com/tags/open-liberty]
image::img/blog/blog_btn_stack.svg[Ask a question on Stack Overflow, align="center"]


// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/24124
// Contact/Reviewer: aknguyen7,ReeceNana
// // // // // // // // 
[#db_test]
== Test database connections using Admin Center   

Looking for a simple way to test your database connections? With this beta release, you can now validate your connections using the Liberty Admin Center feature. The connection test exercises the same code paths as your applications, giving you confidence in your server configuration. The Admin Center connection validation feature is enabled by the same REST APIs featured in the link:{url-prefix}/blog/2019/09/13/testing-database-connections-REST-APIs.html[Testing database connections in Open Liberty apps with REST APIs] blog post.


To enable database connection testing, the following minimum set of features must be present in your server configuration:

[source, xml]
----
    <feature>adminCenter-1.0</feature>
    <feature>restConnector-2.0</feature>
    <feature>mpOpenApi-3.0</feature>
----

Although this example uses the `mpOpenApi-3.0` feature, you can use any MicroProfile OpenAPI version that is compatible with your other features.


To provide an example, we'll start by testing the server resource `DefaultDataSource`, which is configured to connect to a Derby database using container authentication with an authentication alias.


The following sample `server.xml` file enables the features to configure the Admin Center test connection function and configures the connection to the Derby database:

[source, xml]
----
<server description="new server">

    <!-- Enable features -->
    <featureManager>
        <feature>adminCenter-1.0</feature>
        <feature>restConnector-2.0</feature>
        <feature>jdbc-4.3</feature>
        <feature>mpOpenApi-3.0</feature>
    </featureManager>

    <!-- To access this server from a remote client add a host attribute to the following element, e.g. host="*" -->
    <httpEndpoint id="defaultHttpEndpoint" httpPort="9080" httpsPort="9443"/>

    <library id="derby">
      <file name="${server.config.dir}/derby/derby.jar"/>
    </library>

    <dataSource id="DefaultDataSource">
      <jdbcDriver libraryRef="derby"/>
      <!-- Example properties referencing an in-memory Derby Embedded database -->
      <properties.derby.embedded databaseName="memory:defaultdb" createDatabase="create"/>
    </dataSource>

    <authData id="myAuth" user="dbuser" password="dbpass"/>

    <!-- Default SSL configuration enables trust for default certificates from the Java runtime --> 
    <ssl id="defaultSSLConfig" trustDefaultCerts="true"/>

    <remoteFileAccess>
       <writeDir>${server.config.dir}</writeDir>
    </remoteFileAccess>

    <basicRegistry id="basic">
       <user name="admin" password="adminpwd"/>
    </basicRegistry>

    <!-- Assign 'admin' to Administrator -->
    <administrator-role>
        <user>admin</user>
    </administrator-role>

</server>
----

For this `server.xml` example, you will need to add the Derby jar to the server configuration or use your own database configuration.


1. Configure a Liberty server using the example `server.xml` file for guidance and then start the server. After the server is started, you can check the logs to find the URL to navigate to the Admin Center. In the previous example, you can navigate to the Admin Center using the `https://localhost:9443/adminCenter/` URL.


2. Select the **Server Config** tool.

+
[.img_border_light]
image::img/blog/ac_db_test_server_config.png[Server Config Tool,width=20%,align="center"]

3. Select **server.xml** to edit.

+
[.img_border_light]
image::img/blog/ac_db_test_serverxml.png[server.xml,width=50%,align="center"]

4. In the **Design > Server** menu, navigate to the resource you want to test and click the **Test** button.

+
[.img_border_light]
image::img/blog/ac_db_test_resource.png[Select resource,width=50%,align="center"]

5. Choose the type of authentication your application uses:

+
* For applications that use container authentication, choose the **Application authentication** tab and select whether to use default authentication, specify an authentication alias, or choose a login module configuration.

+
For this example, the configuration doesn't specify default authentication on the `dataSource` element or configure any login modules. Therefore, you must specify an authentication alias by using the drop-down field.

+
[.img_border_light]
image::img/blog/ac_db_test_container_auth.png[Container authentication,width=50%,align="center"]


* For applications that use application authentication, choose the **Application authentication** tab and fill in a valid username and password for the database resource.

+
[.img_border_light]
image::img/blog/ac_db_test_app_auth.png[Application authentication,width=50%,align="center"]

* If your application does not use a resource reference and the `server.xml` doesn't include `enableContainerAuthForDirectLookups="true"` in the config element, then choose the **No resource reference** tab and fill in a valid username and password for the database resource.


+
[.img_border_light]
image::img/blog/ac_db_test_no_resource_ref.png[No Resource Reference,width=50%,align="center"]

6. Click the **Connection Test** button to run the test and display the results.  The following example shows a successful connection test:


[.img_border_light]
image::img/blog/ac_db_test_successful_test.png[Successful connection test example,width=50%,align="center"]

In addition to link:{url-prefix}/docs/latest/reference/feature/jdbc-4.3.html[Java Database Connectivity] you can also test connections to link:{url-prefix}/docs/latest/reference/feature/connectors-2.0.html[Jakarta Connectors], link:{url-prefix}/docs/latest/reference/feature/messaging-3.0.html[Jakarta Messaging] and link:{url-prefix}/docs/latest/reference/feature/cloudant-1.0.html[Cloudant Integration] resources. 

For more information about administering Liberty using a GUI, refer to the link:{url-prefix}/docs/latest/admin-center.html[Manage Open Liberty with Admin Center] documentation.

// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/23282
// Contact/Reviewer: jimblye,ReeceNana
// // // // // // // // 
[#timeout]
== Specify how long to wait for the server to stop

Open Liberty 23.0.0.2 introduces a `--timeout` command line option for the `server stop` command.  You can use this option to specify the maximum amount of time the `server stop` command waits for confirmation that the server has stopped.  

Prior to this update, the default maximum waiting period of 30 seconds could not be adjusted.

The timeout value can be specified in minutes (`m`), seconds (`s`), or a combination of both.  When a unit is not specified, the default of seconds is used.  Minutes and seconds can be combined, for example `2m30s`, which means 2 minutes and 30 seconds.  Examples:
   
[source, xml]
----
   ./server stop                   // 30 seconds
   ./server stop --timeout=45      // 45 seconds
   ./server stop --timeout=45s     // 45 seconds
   ./server stop --timeout=3m20s   // 3 minutes, 20 seconds
----

The default timeout value is 30 seconds. If the server consistently takes longer than 30 seconds to stop, consider increasing the timeout value by using the --timeout option.
   
For more information, refer to the link:{url-prefix}/docs/latest/reference/command/server-stop.html[server stop command] documentation.
   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 


[#CVEs]
== Security vulnerability (CVE) fixes in this release
[cols="5*"]
|===
|CVE |CVSS Score |Vulnerability Assessment |Versions Affected |Notes

|http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-45787[CVE-2022-45787]
|5.5
|Information disclosure
|21.0.0.12 - 23.0.0.1
|Affects the link:{url-prefix}/docs/latest/reference/feature/restfulWS-3.0.html[feature:restfulWS-3.0] feature
|===

For a list of past security vulnerability fixes, reference the link:{url-prefix}/docs/latest/security-vulnerabilities.html[Security vulnerability (CVE) list].


[#bugs]
== Notable bugs fixed in this release


We’ve spent some time fixing bugs. The following sections describe just some of the issues resolved in this release. If you’re interested, here’s the  link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A23002+label%3A%22release+bug%22[full list of bugs fixed in 23.0.0.2].

* link:https://github.com/OpenLiberty/open-liberty/issues/24371[Server fails to start due to conflict on servlet feature]
+
When individually installing a set of EE7 or EE8 features, the server can fail to start due to a conflict on servlet features, as shown in the following example.
+
[1/10/23, 4:08:27:359 GMT] 00000027 id=         com.ibm.ws.kernel.feature.internal.FeatureManager            E CWWKF0033E: The singleton features servlet-3.1 and servlet-3.0 cannot be loaded at the same time.  The configured features servlet-3.1 and apiDiscovery-1.0 include one or more features that cause the conflict. Your configuration is not supported; update server.xml to remove incompatible features.
[1/10/23, 4:08:27:419 GMT] 00000027 id=         com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: "java.lang.IllegalArgumentException: Unable to load conflicting versions of features "com.ibm.websphere.appserver.servlet-3.1" and "com.ibm.websphere.appserver.servlet-3.0".  The feature dependency chains that led to the conflict are: com.ibm.websphere.appserver.servlet-3.1 and com.ibm.websphere.appserver.apiDiscovery-1.0 -> com.ibm.websphere.appserver.restHandler-1.0 -> io.openliberty.restHandler.internal-1.0 -> io.openliberty.webBundleSecurity.internal-1.0 -> io.openliberty.servlet.internal-3.0 -> com.ibm.websphere.appserver.servlet-3.0 

* link:https://github.com/OpenLiberty/open-liberty/issues/24293[Scheduled Futures leak resources from Managed Executor Services on application stop]
+
The [`futures` queue](https://github.com/OpenLiberty/open-liberty/blob/aa6a9f874b88a4940fc58fdb5e6a0184f148fbe4/dev/com.ibm.ws.concurrent/src/com/ibm/ws/concurrent/internal/ManagedScheduledExecutorServiceImpl.java#L63) in ManagedScheduledExecutorServiceImpl holds references to scheduled futures, even once they have completed.
+
The queue is periodically cleaned when new tasks are scheduled, by the private [`purgeFutures()` method](https://github.com/OpenLiberty/open-liberty/blob/aa6a9f874b88a4940fc58fdb5e6a0184f148fbe4/dev/com.ibm.ws.concurrent/src/com/ibm/ws/concurrent/internal/ManagedScheduledExecutorServiceImpl.java#L89), but otherwise they are not actively removed, and it isn't called when applications are shutdown. As purgeFutures is private, applications can't call it themselves.
+
There's also a [deactivate method](https://github.com/OpenLiberty/open-liberty/blob/aa6a9f874b88a4940fc58fdb5e6a0184f148fbe4/dev/com.ibm.ws.concurrent/src/com/ibm/ws/concurrent/internal/ManagedScheduledExecutorServiceImpl.java#L70-L82) that aggressively cleans up when the server is shutdown.
+
Our application does a lot of work via scheduled tasks, and in a test/dev environment we want to stop and start the application without restarting the server. We do have other memory leaks that we're tracking down, but this one is making it harder to see what else is going on.

* link:https://github.com/OpenLiberty/open-liberty/issues/24277[Backport CXF-8706: CXF MTOM handler allow content injection]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24276[Upgrade mime4j to 0.8.9]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24157[Validate HTTP header names]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24155[Memory leak in JaxRsFactoryImplicitBeanCDICustomizer]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24077[DoNotAllowDuplicateSetCookies http channel config option is not working]
+
The http channel config property DoNotAllowDuplicateSetCookies=true, when set, still allows duplicate set-cookie cookies in http responses.

* link:https://github.com/OpenLiberty/open-liberty/issues/24056[batch-2.1 feature content is active even when configuring batch-1.0 or 2.0]
+
Content added as part of the batch-2.1 feature update will be loaded and active even if the user configures the server for batch-1.0  or batch-2.0. This is unintended and may cause conflicts based on the user's environment.

* link:https://github.com/OpenLiberty/open-liberty/issues/24048[Possible performance issue in com.ibm.ws.wsat.service.impl.WebClientImpl]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24047[Memory in com.ibm.ws.wsat.service.WebClient when creating thread context class loaders]
+
Repeated calls to LogManager$Lock.getLogDomain(Bundle), each one adding a bundle named "gateway.bundle.Thread_Context...." to the "domains" HashMap in Felix SCR.  These entries never get removed and the Map keeps growing leading to a memory leak.
```
 at org/apache/felix/scr/impl/logger/LogManager$Lock.getLogDomain(LogManager.java:69)
 at org/apache/felix/scr/impl/logger/LogManager.getLogger(LogManager.java:174)
 at org/apache/felix/scr/impl/logger/ScrLogManager.bundle(ScrLogManager.java:97)
 at org/apache/felix/scr/impl/logger/ScrLogManager$ScrLoggerFacade.bundle(ScrLogManager.java:282)
 at org/apache/felix/scr/impl/BundleComponentActivator.(BundleComponentActivator.java:202)
 at org/apache/felix/scr/impl/Activator.loadComponents(Activator.java:552)
 at org/apache/felix/scr/impl/Activator.access$200(Activator.java:70)
 at org/apache/felix/scr/impl/Activator$ScrExtension.start(Activator.java:421)
 at org/apache/felix/scr/impl/AbstractExtender.createExtension(AbstractExtender.java:196)
 at org/apache/felix/scr/impl/AbstractExtender.modifiedBundle(AbstractExtender.java:169)
 at org/apache/felix/scr/impl/AbstractExtender.addingBundle(AbstractExtender.java:139)
 at org/apache/felix/scr/impl/AbstractExtender.addingBundle(AbstractExtender.java:49)
 at org/osgi/util/tracker/BundleTracker$Tracked.customizerAdding(BundleTracker.java:475)
 at org/osgi/util/tracker/BundleTracker$Tracked.customizerAdding(BundleTracker.java:1)
 at org/osgi/util/tracker/AbstractTracked.trackAdding(AbstractTracked.java:256)
 at org/osgi/util/tracker/AbstractTracked.track(AbstractTracked.java:229(Compiled Code))
 at org/osgi/util/tracker/BundleTracker$Tracked.bundleChanged(BundleTracker.java:450(Compiled Code))
 at org/eclipse/osgi/internal/framework/BundleContextImpl.dispatchEvent(BundleContextImpl.java:935(Compiled Code))
 at org/eclipse/osgi/framework/eventmgr/EventManager.dispatchEvent(EventManager.java:228(Compiled Code))
 at org/eclipse/osgi/framework/eventmgr/ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
 at org/eclipse/osgi/internal/framework/EquinoxEventPublisher.publishBundleEventPrivileged(EquinoxEventPublisher.java:229)
 at org/eclipse/osgi/internal/framework/EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:138)
 at org/eclipse/osgi/internal/framework/EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:130)
 at org/eclipse/osgi/internal/framework/EquinoxContainerAdaptor.publishModuleEvent(EquinoxContainerAdaptor.java:206(Compiled Code))
 at org/eclipse/osgi/container/Module.publishEvent(Module.java:499(Compiled Code))
 at org/eclipse/osgi/container/Module.start(Module.java:486)
 at org/eclipse/osgi/internal/framework/EquinoxBundle.start(EquinoxBundle.java:439)
 at com/ibm/ws/classloading/internal/GatewayBundleFactory.start(GatewayBundleFactory.java:129)
 at com/ibm/ws/classloading/internal/GatewayBundleFactory.createGatewayBundleClassLoader(GatewayBundleFactory.java:90)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.createTCCL(ClassLoadingServiceImpl.java:633(Compiled Code))
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.access$200(ClassLoadingServiceImpl.java:102)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl$4.createInstance(ClassLoadingServiceImpl.java:593)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl$4.createInstance(ClassLoadingServiceImpl.java:590)
 at com/ibm/ws/classloading/internal/util/CanonicalStore.retrieveOrCreate(CanonicalStore.java:84(Compiled Code))
 at com/ibm/ws/classloading/internal/util/CanonicalStore.retrieveOrCreate(CanonicalStore.java:74)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.createThreadContextClassLoader(ClassLoadingServiceImpl.java:590)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.createThreadContextClassLoader(ClassLoadingServiceImpl.java:98)
 at com/ibm/ws/wsat/tm/impl/TranManagerImpl.getThreadClassLoader(TranManagerImpl.java:338)
 at com/ibm/ws/wsat/service/impl/WebClientImpl$9.run(WebClientImpl.java:218)
 at java/security/AccessController.doPrivileged(AccessController.java:738(Compiled Code))
 at com/ibm/ws/wsat/service/impl/WebClientImpl.invoke(WebClientImpl.java:214)
 at com/ibm/ws/wsat/service/impl/WebClientImpl.prepared(WebClientImpl.java:146)
 at com/ibm/ws/wsat/tm/impl/CoordinatorResource.replayCompletion(CoordinatorResource.java:43)
 at com/ibm/tx/jta/embeddable/impl/WSATRecoveryCoordinator.replayCompletion(WSATRecoveryCoordinator.java:133)
 at com/ibm/tx/jta/embeddable/impl/EmbeddableTransactionImpl.replay(EmbeddableTransactionImpl.java:1067)
 at com/ibm/tx/jta/embeddable/impl/EmbeddableTransactionImpl.retryCompletion(EmbeddableTransactionImpl.java:1020)
 at com/ibm/tx/jta/embeddable/impl/EmbeddableTransactionImpl.recover(EmbeddableTransactionImpl.java:770)
 at com/ibm/tx/jta/impl/RecoveryManager.resync(RecoveryManager.java:1457)
 at com/ibm/tx/jta/impl/RecoveryManager.performResync(RecoveryManager.java:2188)
 at com/ibm/tx/jta/impl/RecoveryManager.run(RecoveryManager.java:2143)
 at java/lang/Thread.run(Thread.java:830)
```
+
Ultimately this is getting driven by this code:
+
https://github.com/OpenLiberty/open-liberty/blob/14225e8f48a9040e72e0128f63ecd28de4f57f0f/dev/com.ibm.ws.wsat.common/src/com/ibm/ws/wsat/service/impl/WebClientImpl.java#L214-L235
 
That code seems to have a very large overhead to create a new TCCL each time for the WebClientImpl class `tranService.getThreadClassLoader(WebClientImpl.class);`.  That leads to a bug in Felix SCR which has been fixed in version 2.2.6 (https://issues.apache.org/jira/browse/FELIX-6581).
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24007[server dump command fails in WL on IBM i]
+
When the `server dump` command is run on the IBM i platform in QSH, it fails with a message similar to this one:
```
/QIBM/ProdData/WebSphere/LibertyServer/V22.0.0.13/Base/bin/server dump  dumptest
+
Dumping server dumptest.                                                                         
The command introspect#23.01.20_20.22.52 failed because of a communication error with the server.
Server dumptest dump failed. Check server logs for details.
```
+
and an FFDC file is created with
```
------Start of DE processing------ = [1/20/23 20:22:52:492 CST]                                                      
Exception = java.lang.IllegalStateException                                                                          
Source = com.ibm.ws.kernel.launch.internal.ServerCommandListener                                                     
probeid = 437                                                                                                        
Stack Dump = java.lang.IllegalStateException: introspections directory could not be created.                         
 at com.ibm.ws.kernel.launch.internal.FrameworkManager$IntrospectionContext.introspectAll(FrameworkManager.java:1240)
 at com.ibm.ws.kernel.launch.internal.FrameworkManager.introspectFramework(FrameworkManager.java:1214)               
 at com.ibm.ws.kernel.launch.internal.ServerCommandListener.executeCommand(ServerCommandListener.java:467)           
 at com.ibm.ws.kernel.launch.internal.ServerCommandListener.acceptAndExecuteCommand(ServerCommandListener.java:427)  
 at com.ibm.ws.kernel.launch.internal.ServerCommandListener.startListening(ServerCommandListener.java:355)           
 at com.ibm.ws.kernel.launch.internal.FrameworkManager$6.run(FrameworkManager.java:891)                              
```
+
If there is a stack trace, please include the FULL stack trace (without any `[internal classes]` lines in it). To find the full stack trace, you may need to check in `$WLP_OUTPUT_DIR/messages.log`

* link:https://github.com/OpenLiberty/open-liberty/issues/24001[Fix configuration attribute name used in CWWKS1738E message]
+

When using an OIDC RP via the social login feature, it's possible for the wrong configuration attribute name to be included in the error message emitted when the expected user name claim is not in the ID token returned from the OP. An example of such an error message is below.
+
> [1/20/23, 12:26:44:281 CST] 00000044 .ws.security.openidconnect.clients.common.AttributeToSubject E CWWKS1738E: The OpenID Connect client [client01] failed to authenticate the JSON Web Token because the claim [someBadName] specified by the [userIdentifier] configuration attribute was not included in the token.
+
The error message refers to the `userIdentifier` configuration attribute. However, in the social login feature the equivalent configuration attribute is actually called `userNameAttribute`. The message needs to be updated to use the correct attribute name.

* link:https://github.com/OpenLiberty/open-liberty/issues/23976[Add option to support old format of start-info in multipart/related SOAP messages]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23954[The authCache->cacheRef and webAppSecurity->loggedOutCookieCacheRef server configuration elements are not included in the documentation.]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23676[Transaction manager unavailable when stopping resource adapters during server shutdown]
+
Transaction manager might not be available when resource adapter is stopped.
+
```
java.lang.IllegalStateException java.lang.IllegalStateException
	at com.ibm.tx.jta.impl.TranManagerImpl.<init>(TranManagerImpl.java:61)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerImpl.<init>(EmbeddableTranManagerImpl.java:28)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet$1.initialValue(EmbeddableTranManagerSet.java:55)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet$1.initialValue(EmbeddableTranManagerSet.java:52)
	at java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:193)
	at java.lang.ThreadLocal.get(ThreadLocal.java:183)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet.self(EmbeddableTranManagerSet.java:66)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet.self(EmbeddableTranManagerSet.java:34)
	at com.ibm.tx.jta.impl.TranManagerSet.suspend(TranManagerSet.java:149)
	at [com.ibm.ws](http://com.ibm.ws/).uow.embeddable.EmbeddableUOWManagerImpl.suspend(EmbeddableUOWManagerImpl.java:63)
	at [com.ibm.ws](http://com.ibm.ws/).transaction.context.internal.TransactionContextImpl.taskStarting(TransactionContextImpl.java:105)
	at [com.ibm.ws](http://com.ibm.ws/).context.service.serializable.ThreadContextDescriptorImpl.taskStarting(ThreadContextDescriptorImpl.java:413)
	at [com.ibm.ws](http://com.ibm.ws/).jca.internal.BootstrapContextImpl.startTask(BootstrapContextImpl.java:1170)
	at [com.ibm.ws](http://com.ibm.ws/).jca.internal.BootstrapContextImpl.stopResourceAdapter(BootstrapContextImpl.java:1109)
	at [com.ibm.ws](http://com.ibm.ws/).jca.internal.BootstrapContextImpl.deactivate(BootstrapContextImpl.java:664)
```

* link:https://github.com/OpenLiberty/open-liberty/issues/23410[UnrecoverableKeyException occurs when using WS-Security Callback handler on Liberty 22.0.0.9]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/16007[Runtime injection of detailed method trace fails for a CDI bean]
+


// // // // // // // //
// In the preceding section:
// For this section ask either Michal Broz or Tom Evans or the #openliberty-release-blog channel for Notable bug fixes in this release.
// Present them as a list in the order as provided, linking to the issue and providing a short description of the bug and the resolution.
// If the issue on Github is missing any information, leave a comment in the issue along the lines of:
// "@[issue_owner(s)] please update the description of this `relesae bug` using the [bug report template](https://github.com/OpenLiberty/open-liberty/issues/new?assignees=&labels=release+bug&template=bug_report.md&title=)" 
// Feel free to message the owner(s) directly as well, especially if no action has been taken by them.
// For inspiration about how to write this section look at previous blogs e.g- 20.0.0.10 or 21.0.0.12 (https://openliberty.io/blog/2021/11/26/jakarta-ee-9.1.html#bugs)
// // // // // // // //


[#guides]
== New and updated guides since the previous release
As Open Liberty features and functionality continue to grow, we continue to add link:https://openliberty.io/guides/?search=new&key=tag[new guides to openliberty.io] on those topics to make their adoption as easy as possible.  Existing guides also receive updates to address any reported bugs/issues, keep their content current, and expand what their topic covers.

* link:{url-prefix}/guides/grpc-intro.html[Streaming messages between client and server services using gRPC] 
** Added a cloud-hosted version of this recently published guide.

[.img_border_light]
image::img/blog/grpc_guide.png[Application authentication,width=50%,align="center"]


== Get Open Liberty 23.0.0.2 now

Available through <<run,Maven, Gradle, Docker, and as a downloadable archive>>.
